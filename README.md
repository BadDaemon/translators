# Generate translators list for the wiki

These files help generating the translator list for the wiki.

## Setup

First, install all the required packages:
```
sudo apt-get install pip3
pip3 install requirements.txt
```

Then rename the file `config_sample.py` to `config.py`.
Fill in the `useragent` and `cookies` variables by opening the developer console in your browser, navigating to the [translators-page on crowdin](http://translate.lineageos.org/project/lineageos/translators) and looking at the network panel. Make sure both variables match what you find in there, otherwise crowdin will reject the request and log you out!

## Generate the list

The list is generated in two parts:

### Get the data from crowdin
```
python3 crowdin.py
```

A file named `proofreaders.json` is generated. This can then be used to generate valid yaml for the wiki:

__Note:__ Add `--include-managers` or (`-m`) if you are a translation manager so the script can read the full list including managers:
```
python3 crowdin.py --include-managers
```

### Generate yaml for the wiki:
```
python3 generate_yaml.py
```

## Maintain the scripts

### languages.json

You need to regenerate the list every time you find an entry for "Unknown" in the generated output of the scripts.

This is generated by opening the source-code of the [translators-page on crowdin](http://translate.lineageos.org/project/lineageos/translators). In there, search for `TARGET_LANGUAGES`, copy the variable contents completely, beautify them (e.g. with [jsonformatter.org](https://jsonformatter.org/)) and paste them to languages.json.